<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasa de Cambio</title>
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
    <link rel="stylesheet" href="../static/style.css">
</head>
<body>
    
    <div class="header">
        <h1 class="titulo-principal">Tasa de Cambio</h1>
    </div>
    
    
    <div class="monedas">
        <div class="monedas monedas-promedio">
            <div class="moneda" id="promedio">
                <span>$/₮</span>
                <p>Promedio</p>
                <strong data-currency="USD">{{ rates.PROMEDIO | default('N/A') }}</strong>
            </div>
        </div>

        <div class="moneda" id="dolar">
            <span>$</span>
            <p>Dólar</p>
            <strong data-currency="USD">{{ rates.USD | default('N/A') }}</strong>
        </div>
        
        <div class="moneda" id="euro">
            <span>€</span>
            <p>Euro</p>
            <strong data-currency="EUR">{{ rates.EUR | default('N/A') }}</strong>
        </div>
        
        <div class="moneda" id="yuan">
            <span>¥</span>
            <p>Yuan</p>
            <strong data-currency="CNY">{{ rates.CNY | default('N/A') }}</strong>
        </div>
        
        <div class="moneda" id="libra">
            <span>₺</span>
            <p>Lira</p>
            <strong data-currency="TRY">{{ rates.TRY | default('N/A') }}</strong>
        </div>
        
        <div class="moneda" id="rublo">
            <span>₽</span>
            <p>Rublo</p>
            <strong data-currency="RUB">{{ rates.RUB | default('N/A') }}</strong>
        </div>

        <div class="moneda usdt" id="usdt">
            <span>₮</span>
            <p>USDT</p>
            <strong data-currency="USDT" id="usdt-valor">Cargando...</strong>
        </div>
    </div>

    <!-- SCRIPT DE FUNCIONALIDAD -->
    <script>
        // Al cargar la página, pedir el valor USDT normalmente
        document.addEventListener('DOMContentLoaded', function() {
            fetch('/usdt')
                .then(response => response.json())
                .then(data => {
                    const usdtStrong = document.getElementById('usdt-valor');
                    if (data.usdt) {
                        usdtStrong.textContent = data.usdt;
                    } else {
                        usdtStrong.textContent = 'N/A';
                    }
                })
                .catch(() => {
                    const usdtStrong = document.getElementById('usdt-valor');
                    usdtStrong.textContent = 'N/A';
                });
        });
        // ...
    </script>
</body>
</html>
